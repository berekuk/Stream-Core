# vim:ft=perl

use Stream::Filter qw(filter);
use warnings;
use strict;

sub {
    filter(sub {
        my $item = shift;
        chomp $item;
        $item =~ s{(\\\\|\\n)}{
            ($1 eq "\\\\") ? "\\" : "\n"
        }ge;
        return $item;
    });
}
